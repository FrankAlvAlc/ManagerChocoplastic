(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{230:function(t,i,e){"use strict";e.r(i);var a=e(4),o=e.n(a),s=e(26),r=e.n(s);e(221);function d(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var n={components:{VDateRange:r.a},name:"InvoiceForm",data:function(){var t;return{date:(new Date).toISOString().substr(0,10),nowDate:(new Date).toISOString().slice(0,10),menu1:!1,modal:!1,menu2:!1,snackbar:!1,textMsg:"",timeout:2e3,tab:null,showSubcategoria:!1,stores:[],categories:[],subcategories:[],categoriesrelations:[],customCondition:!0,products:[],missions:[],dates:[],mission:"",missionsProducts:[],editedIndex:-1,editedSubIndex:-1,editedAddSubIndex:-1,editedIndexProducto:-1,editedIndexMision:-1,editedIndexProductoMission:-1,valid:!1,validPromo:!1,lazy:!1,dialog:!1,dialogSub:!1,dialogProducts:!1,dialogAddProduct:!1,dialogPromoProduct:!1,dialogMision:!1,dialogProductsMissions:!1,start_date:"",end_date:"",headers:[{text:"ID",value:"id",width:"10%"},{text:"Categoría",value:"name"},{text:"",value:"action"}],headersSub:[{text:"ID",value:"id",width:"10%"},{text:"Subcategoría",value:"name"},{text:"",value:"action"}],headersProd:[{text:"ID",value:"id",width:"10%"},{text:"Nombre",value:"name"},{text:"",value:"action"}],headersCateg:[{text:"ID",value:"id",width:"10%"},{text:"Nombre",value:"name"},{text:"",value:"action"}],headersMissions:[{text:"ID",value:"id",width:"5%"},{text:"Nombre",value:"name",width:"15%"},{text:"Descripción",value:"description",width:"20%"},{text:"Image",value:"image",sortable:!1,width:"15%"},{text:"",value:"action",width:"20%"}],headersProducts:[{text:"ID",value:"id",width:"5%"},{text:"Nombre",value:"name",width:"35%"},{text:"Descripción",value:"description",width:"20%"},{text:"Key",value:"long_key",width:"20%"},{text:"Precio",value:"pricebusiness",width:"10%"},{text:"Contenido",value:"content",width:"10%"},{text:"Unidad",value:"unit",width:"10%"},{text:"Marca",value:"brand",width:"10%"},{text:"Image",value:"image",sortable:!1,width:"15%"},{text:"",value:"action",width:"20%"}],nameRules:[function(t){return!!t||"Requerido."},function(t){return t&&t.length>=3||"Min 3 caracteres"}],unidadRules:[function(t){return!!t||"Requerido."},function(t){return t&&t.length>=1||"Min 1 caracter"}],numberRules:[function(t){return!!t||"Requerido."},function(t){return t>0||"El número debe ser mayor a cero"}],rulesImage:[function(t){return!!t||"Archivo requerido"},function(t){return!t||t.size<2e6||"La imagen tiene que ser menor a 2 MB!"}],title:this.$route.params.id,title2:this.$route.params.idStore,search:"",searchProd:"",searchProducts:"",searchMission:"",dialogProducto:!1,dialogCategorias:!1,dialogAddSub:!1,switchMe:!1,imageUrl:"",editadoCategorias:{business_id:"",store_id:"",category_id:""},editadoRelacion:{id:"",name:"",description:"",imageUrl:this.imageUrl,file:"",select:""},editadoSub:{id:"",name:"",description:"",imageUrl:this.imageUrl,file:"",select:""},editado:{id:"",name:"",description:"",imageUrl:this.imageUrl,file:"",select:"",stock:"",price:"",max_quantity:"",is_active:!1,exist:0,category_id:"",store_id:"",business_id:""},defaultItem:(t={id:"",name:"",description:"",imageUrl:this.imageUrl,file:"",select:"",stock:"",price:"",max_quantity:"",is_active:!1,exist:0,category_id:"",pricebusiness:""},d(t,"price",""),d(t,"max_quantity",""),t),editadoProduct:{id:"",name:"",description:"",long_key:"",price:"",content:"",unit:"",brand:"",sales_unit:"",bulk:"",imageUrl:"",idsubcategoria:0,category_id:"",select:0,store_id:"",business_id:"",stock:0,pricebusiness:"",is_active:!1,is_mod:!1},editadoProductPromo:{id:"",start_date:"",end_date:"",idPromo:"",pricePromocion:"",store_id:"",business_id:"",existPromo:0},defaultProductPromo:{id:"",start_date:"",end_date:"",idPromo:"",pricePromocion:"",store_id:"",business_id:"",existPromo:0},defaultItemProduct:{id:"",name:"",description:"",long_key:"",price:"",content:"",unit:"",brand:"",sales_unit:"",bulk:"",imageUrl:"",idsubcategoria:0,category_id:"",select:0,store_id:"",business_id:"",stock:0,pricebusiness:"",is_active:!1,is_mod:!1},editadoMision:{id:"",name:"",description:"",start_date:"",end_date:"",imageUrl:"",store_id:"",business_id:"",is_active:!1,is_mod:!1},defaultItemMision:{id:"",name:"",description:"",start_date:"",end_date:"",imageUrl:"",store_id:"",business_id:"",is_active:!1,is_mod:!1},editadoMisionProduct:{id:"",name:"",description:"",start_date:"",end_date:"",imageUrl:"",store_id:"",business_id:"",is_active:!1,is_mod:!1},defaultItemMisionProduct:{id:"",name:"",description:"",start_date:"",end_date:"",imageUrl:"",store_id:"",business_id:"",is_active:!1,is_mod:!1}}},created:function(){this.getstores(),this.getcategories(),this.getMissions()},methods:{toggleMission:function(t){o.a.get("/missions/"+this.mission+"/products/"+t.id+"/toggle").then((function(t){console.log(t.data)})).catch((function(t){console.log(response)}))},getstores:function(){var t=this;o.a.get("/infoBusiness/"+this.$route.params.id+"/"+this.$route.params.idStore).then((function(i){t.stores=i.data.data})).catch((function(i){t.errors.push(i)}))},getcategories:function(){var t=this;o.a.get("/CategoriesBusiness/"+this.$route.params.id+"/"+this.$route.params.idStore).then((function(i){t.categories=i.data.data})).catch((function(i){t.errors.push(i)}))},getSubcategorias:function(t){this.editedSubIndex=this.subcategories.indexOf(t),this.editado=Object.assign({},t),this.showSubcategoria=!this.showSubcategoria,this.customCondition=!1,this.getSubcategories()},getSubcategories:function(){var t=this;o.a.get("/subcategoriesList?id="+this.editado.id).then((function(i){t.subcategories=i.data.data})).catch((function(i){t.errors.push(i)}))},getcategoriesrelations:function(){var t=this;o.a.get("/AsociarCategoriesBusiness/"+this.$route.params.id+"/"+this.$route.params.idStore).then((function(i){t.categoriesrelations=i.data.data,t.imageUrl=""})).catch((function(i){t.errors.push(i)}))},editar:function(t){this.dialog=!0,this.getProducts(t.id)},editarProducto:function(t){this.editedIndexProducto=this.products.indexOf(t),this.editado=Object.assign({},t),this.dialogProducto=!0},cancelar:function(){this.dialogProducto=!1,this.editado=Object.assign({},this.defaultItem),this.editedIndex=-1},guardar:function(){this.editado.exist<2?(console.log("¡Actualización Exitosa!"),this.editarProduct()):(console.log("¡Alta exitosa!"),this.addProduct()),this.cancelar()},editarProduct:function(){var t=this,i=this.editado.category_id;o.a.put("/businessproduct/update",this.editado).then((function(e){t.getProducts(i),t.imageUrl=""}))},addProduct:function(){var t=this,i=this.editado.category_id;this.editado.store_id=this.$route.params.idStore,this.editado.business_id=this.$route.params.id,o.a.post("/businessproduct/add",this.editado).then((function(e){t.getProducts(i),t.imageUrl=""}))},relacionarCat:function(){this.dialogCategorias=!0,this.getcategoriesrelations()},insertarCat:function(t){this.editedIndexrelations=this.categoriesrelations.indexOf(t),this.editadoRelacion=Object.assign({},t),this.dialogCategorias=!0,this.insertCategorias()},insertCategorias:function(){var t=this;this.editadoCategorias.category_id=this.editadoRelacion.id,this.editadoCategorias.store_id=this.$route.params.idStore,this.editadoCategorias.business_id=this.$route.params.id,o.a.post("/categories/updateBusinessCategory",this.editadoCategorias).then((function(i){t.getcategoriesrelations(),t.getcategories(),t.imageUrl=""}))},cancelarCategorie:function(){this.dialog=!1,this.editado=Object.assign({},this.defaultItem),this.editedIndex=-1},guardarCategorie:function(){this.editedIndex>-1?(this.snackbar=!0,this.textMsg="¡Actualización Exitosa!",this.editarCategorie()):(this.snackbar=!0,this.textMsg="¡Alta exitosa!",this.altaCategorie(),this.imageUrl=""),this.cancelarCategorie()},altaCategorie:function(){var t=this;this.editado.store_id=this.$route.params.idStore,this.editado.business_id=this.$route.params.id,o.a.post("/categories/addAsociar",this.editado).then((function(i){t.getcategoriesrelations(),t.getcategories(),t.imageUrl=""})),this.name="",this.description=""},editarCategorie:function(){var t=this;o.a.put("/categories/update",this.editado).then((function(i){t.getcategoriesrelations(),t.getcategories(),t.imageUrl=""}))},editarCategoria:function(t){console.log(t),this.editedIndex=this.categories.indexOf(t),console.log(this.editedIndex),this.editado=Object.assign({},t),this.dialog=!0},cancelarSub:function(){this.dialogAddSub=!1,this.editadoSub=Object.assign({},this.defaultItem),this.editedAddSubIndex=-1},editarSub:function(t){this.editedAddSubIndex=this.subcategories.indexOf(t),this.editadoSub=Object.assign({},t),this.dialogAddSub=!0},guardarSub:function(){console.log(this.editedAddSubIndex),this.editedAddSubIndex>-1?(console.log("¡Actualización Exitosa!"),this.editarSubCat()):(console.log("¡Agregado Exitosa!"),this.altaSubCat()),this.cancelarSub()},altaSubCat:function(){var t=this;console.log(this.editado.id),this.editadoSub.category_id=this.editado.id,o.a.post("/categories/addSub",this.editadoSub).then((function(i){t.getSubcategories(),t.imageUrl=""})),this.name="",this.description=""},editarSubCat:function(){var t=this;console.log(this.editado.id),this.editadoSub.category_id=this.editado.id,o.a.put("/categories/updateSub",this.editadoSub).then((function(i){t.getSubcategories(),t.imageUrl=""})),this.name="",this.description=""},borrarSub:function(t){var i=this.subcategories.indexOf(t);this.editadoSub=Object.assign({},t),console.log(this.subcategories[i].id),1==confirm("¿Está seguro de borrar el registro?")?(this.deleteSubCat(),this.snackbar=!0,this.textMsg="Se eliminó el registro."):(this.snackbar=!0,this.textMsg="Operación cancelada.")},deleteSubCat:function(){var t=this;console.log(this.editadoSub),o.a.put("/categories/deleteSub",this.editadoSub).then((function(i){t.getSubcategories()})),this.name="",this.description=""},borrarCat:function(t){var i=this.categories.indexOf(t);this.editado=Object.assign({},t),console.log(this.categories[i].id),1==confirm("¿Está seguro de borrar el registro?")?(this.deleteCat(),this.snackbar=!0,this.textMsg="Se eliminó el registro."):(this.snackbar=!0,this.textMsg="Operación cancelada.")},deleteCat:function(){var t=this;o.a.put("/categories/delete",this.editado).then((function(i){t.getcategories()})),this.name="",this.description=""},borrarMission:function(t){this.missions.indexOf(t);this.editadoMision=Object.assign({},t),1==confirm("¿Está seguro de borrar el registro?")?(this.deleteMission(),this.snackbar=!0,this.textMsg="Se eliminó el registro."):(this.snackbar=!0,this.textMsg="Operación cancelada.")},deleteMission:function(){var t=this;o.a.put("/businessMissions/delete",this.editadoMision).then((function(i){t.getMissions()})),this.name="",this.description=""},abrirProducts:function(t){this.editedAddSubIndex=this.subcategories.indexOf(t),this.editadoSub=Object.assign({},t),this.dialogProducts=!0,this.getProducts(t.id)},getProducts:function(t){var i=this;console.log("/productBusiness/"+t+"/"+this.$route.params.idStore+"/"+this.$route.params.id),o.a.get("/productBusiness/"+t+"/"+this.$route.params.idStore+"/"+this.$route.params.id).then((function(t){i.imageUrl="",i.products=t.data.data,console.log(i.products)})).catch((function(t){i.errors.push(t)}))},editarProductoOriginal:function(t){this.editedIndexProducto=this.products.indexOf(t),this.editadoProduct=Object.assign({},t),this.dialogAddProduct=!0,this.editadoProduct.is_mod=!1,console.log(this.editadoProduct)},PromocionProductoOriginal:function(t){this.editadoProductPromo=Object.assign({},t),this.dialogPromoProduct=!0},borrarProductoOriginal:function(t){var i=this.products.indexOf(t);this.editadoProduct=Object.assign({},t),console.log(this.products[i].id),1==confirm("¿Está seguro de borrar el registro?")&&this.deleteProductOriginal()},cancelarProductoOriginal:function(t){this.editedIndexProducto=-1,this.editadoProduct=Object.assign({},this.defaultItemProduct),this.dialogAddProduct=!1},guardarProductoOriginal:function(){this.editedIndexProducto>-1?(console.log("¡Actualización Exitosa!"),console.log(this.editadoProduct),this.editarProductOriginal()):(this.textMsg="¡Alta exitosa!",this.addProductOriginal()),this.cancelarProductoOriginal()},editarProductOriginal:function(){var t=this,i=this.editadoProduct.category_id;this.editadoProduct.store_id=this.$route.params.idStore,this.editadoProduct.business_id=this.$route.params.id,this.editadoProduct.category_id=this.editadoSub.id,o.a.put("/product/update",this.editadoProduct).then((function(e){t.snackbar=!0,t.textMsg="¡Producto actualizado correctamente!",t.getProducts(i)})),this.name="",this.description=""},addProductOriginal:function(){var t=this,i=this.editadoSub.id;this.editadoProduct.store_id=this.$route.params.idStore,this.editadoProduct.business_id=this.$route.params.id,this.editadoProduct.category_id=this.editadoSub.id,o.a.post("/product/add",this.editadoProduct).then((function(e){t.snackbar=!0,t.textMsg="¡Producto agregado correctamente!",t.getProducts(i)}))},deleteProductOriginal:function(){var t=this,i=this.editadoProduct.category_id;o.a.put("/product/delete",this.editadoProduct).then((function(e){t.snackbar=!0,t.textMsg="¡Producto eliminado correctamente!",t.getProducts(i)}))},AsociarCategorias:function(){var t=this;this.editadoCategorias.category_id=this.editado.id,this.editadoCategorias.store_id=this.$route.params.idStore,this.editadoCategorias.business_id=this.$route.params.id,o.a.post("/categories/updateBusinessCategory",this.editadoCategorias).then((function(i){t.getcategoriesrelations(),t.getcategories()}))},getMissions:function(){var t=this;o.a.get("/getMissionBusiness/"+this.$route.params.idStore+"/"+this.$route.params.id).then((function(i){console.log(i.data.data),t.missions=i.data.data})).catch((function(i){t.errors.push(i)}))},guardarMission:function(){this.editedIndexMision>-1?(console.log("¡Actualización Exitosa!"),console.log(this.editadoMision),this.editarGuardarMission()):(this.textMsg="¡Alta exitosa!",this.addGuardarMission()),this.cancelarMission()},editarGuardarMission:function(){var t=this;this.editadoMision.store_id=this.$route.params.idStore,this.editadoMision.business_id=this.$route.params.id,o.a.put("/businessMissions/update",this.editadoMision).then((function(i){t.snackbar=!0,t.textMsg="¡Producto actualizado correctamente!",t.getMissions()}))},addGuardarMission:function(){var t=this;this.editadoMision.store_id=this.$route.params.idStore,this.editadoMision.business_id=this.$route.params.id,o.a.post("/businessMissions/add",this.editadoMision).then((function(i){t.snackbar=!0,t.textMsg="¡Agregado correctamente!",t.getMissions()}))},editarMission:function(t){console.log(t),this.editedIndexMision=this.missions.indexOf(t),console.log(this.editadoMision),this.editadoMision.imageUrl=this.image,this.editadoMision=Object.assign({},t),this.dialogMision=!0},cancelarMission:function(t){this.editedIndexMision=-1,this.editadoMision=Object.assign({},this.defaultItemMision),this.dialogMision=!1},abrirProductsMissions:function(t){this.editedIndexProductoMission=this.missions.indexOf(t),this.editadoMision=Object.assign({},t),this.dialogProductsMissions=!0,this.getProductsMission(t.id)},getProductsMission:function(t){var i=this;this.mission=t,o.a.get("/ProductsMissionsBusiness/"+t+"/"+this.$route.params.idStore+"/"+this.$route.params.id).then((function(t){console.log(t.data.data),i.missionsProducts=t.data.data})).catch((function(t){i.errors.push(t)}))},guardarProductoPromo:function(){this.editadoProductPromo.existPromo>0?(console.log("¡Actualización Exitosa!"),this.editarProductPromo()):(this.textMsg="¡Alta exitosa!",this.addProductPromo()),this.cancelarProductoPromo()},editarProductPromo:function(){var t=this,i=this.editadoProductPromo.category_id;this.editadoProductPromo.store_id=this.$route.params.idStore,this.editadoProductPromo.business_id=this.$route.params.id,this.editadoProductPromo.category_id=this.editadoSub.id,console.log(this.editadoProductPromo),o.a.put("/promoproduct/update",this.editadoProductPromo).then((function(e){t.snackbar=!0,t.textMsg="¡Promoción actualizada correctamente!",t.getProducts(i)}))},addProductPromo:function(){var t=this,i=this.editadoProductPromo.category_id;this.editadoProductPromo.store_id=this.$route.params.idStore,this.editadoProductPromo.business_id=this.$route.params.id,this.editadoProductPromo.category_id=this.editadoSub.id,console.log(this.editadoProductPromo),o.a.post("/promoproduct/add",this.editadoProductPromo).then((function(e){t.snackbar=!0,t.textMsg="¡Promoción agregada correctamente!",t.getProducts(i)}))},cancelarProductoPromo:function(t){this.editadoProductPromo=Object.assign({},this.defaultProductPromo),this.dialogPromoProduct=!1},onPickFile:function(){this.$refs.fileInput.click()},onFilePicked:function(t){var i=this,e=t.target.files,a=(e[0].name,new FileReader);a.addEventListener("load",(function(){i.imageUrl=a.result,i.editado.imageUrl=a.result})),a.readAsDataURL(e[0]),this.image=e[0]},onPickFileProduct:function(){this.$refs.fileInput.click()},onFilePickedProduct:function(t){var i=this,e=t.target.files;e[0].name;console.log(this.editadoProduct);var a=new FileReader;a.addEventListener("load",(function(){i.imageUrl=a.result,i.editadoProduct.imageUrl=a.result,i.editadoProduct.is_mod=!0,console.log(i.editadoProduct)})),a.readAsDataURL(e[0]),this.image=e[0]},onPickFileMision:function(){this.$refs.fileInput.click()},onFilePickedMision:function(t){var i=this,e=t.target.files;e[0].name;console.log(this.editadoMision);var a=new FileReader;a.addEventListener("load",(function(){i.imageUrl=a.result,i.editadoMision.imageUrl=a.result,i.editadoMision.is_mod=!0,console.log(i.editadoMision)})),a.readAsDataURL(e[0]),this.image=e[0]}},computed:{formTitle:function(){return-1===this.editedIndex?"Agregar Categoría":"Editar Categoria"},formTitleAddSub:function(){return-1===this.editedAddSubIndex?"Agregar subcategoría":"Editar subcategoría"},formTitleAddProduct:function(){return-1===this.editedIndexProducto?"Agregar producto":"Editar producto"},formTitleMision:function(){return-1===this.editedIndexMision?"Agregar Misión":"Editar Misión"},formTitleProductMision:function(){return-1===this.editedIndexProductoMission?"Agregar Producto/Misión":"Editar Producto/Misión"}}},c=e(3),l=Object(c.a)(n,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[e("v-snackbar",{attrs:{timeout:t.timeout},model:{value:t.snackbar,callback:function(i){t.snackbar=i},expression:"snackbar"}},[t._v("\n        "+t._s(t.textMsg)+"\n        "),e("v-btn",{attrs:{color:"blue",text:""},on:{click:function(i){t.snackbar=!1}}},[t._v("\n            Cerrar\n        ")])],1),t._v(" "),e("v-layout",{attrs:{wrap:""}},[e("v-flex",{attrs:{md12:"",sm12:"",lg12:""}},[e("v-card",[e("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[e("div",[e("v-card-title",{staticClass:"headline"},[t._v(t._s(t.stores.businessName))]),t._v(" "),e("v-card-subtitle",[t._v(t._s(t.stores.storeName))])],1),t._v(" "),e("v-col",{attrs:{cols:"6"}},[e("v-img",{attrs:{src:t.stores.image,height:"125","aspect-ratio":"1"}})],1)],1)])],1)],1),t._v(" "),e("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(t){t.on}}]),model:{value:t.dialog,callback:function(i){t.dialog=i},expression:"dialog"}},[t._v(" "),e("v-card",[e("v-card-title",{staticClass:"cyan white--text"},[e("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),t._v(" "),e("v-card-text",[e("v-container",[e("v-text-field",{attrs:{label:"Nombre",rules:t.nameRules,required:""},model:{value:t.editado.name,callback:function(i){t.$set(t.editado,"name",i)},expression:"editado.name"}}),t._v(" "),e("v-text-field",{attrs:{label:"Descripción",rules:t.nameRules,required:""},model:{value:t.editado.description,callback:function(i){t.$set(t.editado,"description",i)},expression:"editado.description"}}),t._v(" "),e("v-card-text",[e("v-btn",{staticClass:"primary",attrs:{raised:""},on:{click:t.onPickFile}},[t._v("Subir imagen")]),t._v(" "),e("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/jpeg"},on:{change:t.onFilePicked}})],1),t._v(" "),e("v-layout",[e("img",{attrs:{src:t.imageUrl,height:"150"}})])],1)],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"blue-grey"},on:{click:t.cancelarCategorie}},[t._v("Cancelar")]),t._v(" "),e("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"teal accent-4"},on:{click:t.guardarCategorie}},[t._v("Guardar")])],1)],1)],1),t._v(" "),e("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(t){t.on}}]),model:{value:t.dialogAddSub,callback:function(i){t.dialogAddSub=i},expression:"dialogAddSub"}},[t._v(" "),e("v-card",[e("v-card-title",{staticClass:"cyan white--text"},[e("span",{staticClass:"headline"},[t._v(t._s(t.formTitleAddSub))])]),t._v(" "),e("v-card-text",[e("v-container",[e("v-text-field",{attrs:{label:"Nombre",rules:t.nameRules,required:""},model:{value:t.editadoSub.name,callback:function(i){t.$set(t.editadoSub,"name",i)},expression:"editadoSub.name"}}),t._v(" "),e("v-text-field",{attrs:{label:"Descripción",rules:t.nameRules,required:""},model:{value:t.editadoSub.description,callback:function(i){t.$set(t.editadoSub,"description",i)},expression:"editadoSub.description"}}),t._v(" "),e("v-card-text",[e("v-btn",{staticClass:"primary",attrs:{raised:""},on:{click:t.onPickFile}},[t._v("Subir imagen")]),t._v(" "),e("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/jpeg"},on:{change:t.onFilePicked}})],1),t._v(" "),e("v-layout",[e("img",{attrs:{src:t.imageUrl,height:"150"}})])],1)],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"blue-grey"},on:{click:t.cancelarSub}},[t._v("Cancelar")]),t._v(" "),e("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"teal accent-4"},on:{click:t.guardarSub}},[t._v("Guardar")])],1)],1)],1),t._v(" "),e("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialogProducts,callback:function(i){t.dialogProducts=i},expression:"dialogProducts"}},[e("v-card",[e("v-toolbar",{attrs:{dark:"",color:"primary"}},[e("v-btn",{attrs:{icon:"",dark:""},on:{click:function(i){t.dialogProducts=!1}}},[e("v-icon",[t._v("mdi-close")])],1),t._v(" "),e("v-toolbar-title",[t._v(t._s(t.editado.name)+" --\x3e "+t._s(t.editadoSub.name)+" --\x3e Productos")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-toolbar-items",[e("v-btn",{attrs:{dark:"",text:""},on:{click:function(i){t.dialogProducts=!1}}},[t._v("Cerrar")])],1)],1),t._v(" "),e("v-list",{attrs:{"three-line":"",subheader:""}},[e("v-subheader",[e("v-btn",{staticClass:"ma-2",attrs:{color:"success",dark:""},on:{click:function(i){t.dialogAddProduct=!t.dialogAddProduct}}},[t._v("Agregar\n                        Producto\n                    ")])],1),t._v(" "),e("v-list-item",[e("v-list-item-content",[e("v-data-table",{staticClass:"elevation-3",attrs:{headers:t.headersProducts,items:t.products,search:t.search,"sort-by":"id"},scopedSlots:t._u([{key:"top",fn:function(){return[e("v-col",{attrs:{cols:"12",sm:"12"}},[e("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(i){t.search=i},expression:"search"}})],1)]},proxy:!0},{key:"item.image",fn:function(t){var i=t.item;return[e("div",{staticClass:"p-2"},[e("v-img",{attrs:{src:i.image,alt:i.name,"aspect-ratio":"1"}})],1)]}},{key:"item.action",fn:function(i){var a=i.item;return[e("v-btn",{staticClass:"mr-2",attrs:{fab:"",dark:"",small:"",color:"cyan"},on:{click:function(i){return t.editarProductoOriginal(a)}}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-pencil")])],1),t._v(" "),e("v-btn",{staticClass:"mr-2",attrs:{fab:"",dark:"",small:"",color:"cyan"},on:{click:function(i){return t.PromocionProductoOriginal(a)}}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-offer")])],1),t._v(" "),e("v-btn",{staticClass:"mr-2",attrs:{fab:"",dark:"",small:"",color:"error"},on:{click:function(i){return t.borrarProductoOriginal(a)}}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-delete")])],1)]}}])})],1)],1)],1)],1)],1),t._v(" "),e("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(t){t.on}}]),model:{value:t.dialogPromoProduct,callback:function(i){t.dialogPromoProduct=i},expression:"dialogPromoProduct"}},[t._v(" "),e("v-form",{model:{value:t.validPromo,callback:function(i){t.validPromo=i},expression:"validPromo"}},[e("v-card",[e("v-card-title",{staticClass:"cyan white--text"},[e("span",{staticClass:"headline"},[t._v("Agregar Promoción")])]),t._v(" "),e("v-card-text",[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12",lg:"6"}},[e("v-text-field",{attrs:{label:"Precio Promoción",prefix:"$",type:"number",rules:t.numberRules,required:""},model:{value:t.editadoProductPromo.precioPromocion,callback:function(i){t.$set(t.editadoProductPromo,"precioPromocion",i)},expression:"editadoProductPromo.precioPromocion"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",lg:"6"}},[e("v-text-field",{attrs:{label:"Unidades mínimas",type:"number",rules:t.numberRules,required:""},model:{value:t.editadoProductPromo.montoMinimo,callback:function(i){t.$set(t.editadoProductPromo,"montoMinimo",i)},expression:"editadoProductPromo.montoMinimo"}})],1)],1),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"12",lg:"6"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on;return[e("v-text-field",t._g({attrs:{label:"Fecha Inicio","prepend-icon":"event",readonly:""},model:{value:t.editadoProductPromo.start_date,callback:function(i){t.$set(t.editadoProductPromo,"start_date",i)},expression:"editadoProductPromo.start_date"}},a))]}}]),model:{value:t.menu2,callback:function(i){t.menu2=i},expression:"menu2"}},[t._v(" "),e("v-date-picker",{on:{input:function(i){t.menu2=!1}},model:{value:t.editadoProductPromo.start_date,callback:function(i){t.$set(t.editadoProductPromo,"start_date",i)},expression:"editadoProductPromo.start_date"}})],1)],1),t._v(" "),e("v-col",{attrs:{cols:"12",lg:"6"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on;return[e("v-text-field",t._g({attrs:{label:"Fecha Fin","prepend-icon":"event",readonly:""},model:{value:t.editadoProductPromo.end_date,callback:function(i){t.$set(t.editadoProductPromo,"end_date",i)},expression:"editadoProductPromo.end_date"}},a))]}}]),model:{value:t.menu1,callback:function(i){t.menu1=i},expression:"menu1"}},[t._v(" "),e("v-date-picker",{attrs:{"no-title":"",min:t.editadoProductPromo.start_date},on:{input:function(i){t.menu1=!1}},model:{value:t.editadoProductPromo.end_date,callback:function(i){t.$set(t.editadoProductPromo,"end_date",i)},expression:"editadoProductPromo.end_date"}})],1)],1)],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"blue-grey"},on:{click:t.cancelarProductoPromo}},[t._v("Cancelar\n                    ")]),t._v(" "),e("v-btn",{staticClass:"ma-2 white--text",attrs:{disabled:!t.validPromo,color:"teal accent-4"},on:{click:t.guardarProductoPromo}},[t._v("Guardar\n                    ")])],1)],1)],1)],1),t._v(" "),e("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(t){t.on}}]),model:{value:t.dialogAddProduct,callback:function(i){t.dialogAddProduct=i},expression:"dialogAddProduct"}},[t._v(" "),e("v-form",{model:{value:t.valid,callback:function(i){t.valid=i},expression:"valid"}},[e("v-card",[e("v-card-title",{staticClass:"cyan white--text"},[e("span",{staticClass:"headline"},[t._v(t._s(t.formTitleAddProduct))])]),t._v(" "),e("v-card-text",[e("v-container",[e("v-text-field",{attrs:{label:"Nombre",rules:t.nameRules,required:""},model:{value:t.editadoProduct.name,callback:function(i){t.$set(t.editadoProduct,"name",i)},expression:"editadoProduct.name"}}),t._v(" "),e("v-text-field",{attrs:{label:"Descripción",rules:t.nameRules,required:""},model:{value:t.editadoProduct.description,callback:function(i){t.$set(t.editadoProduct,"description",i)},expression:"editadoProduct.description"}}),t._v(" "),e("v-text-field",{attrs:{label:"Key",rules:t.nameRules,required:""},model:{value:t.editadoProduct.long_key,callback:function(i){t.$set(t.editadoProduct,"long_key",i)},expression:"editadoProduct.long_key"}}),t._v(" "),e("v-text-field",{attrs:{label:"Precio",prefix:"$",type:"number",rules:t.numberRules,required:""},model:{value:t.editadoProduct.pricebusiness,callback:function(i){t.$set(t.editadoProduct,"pricebusiness",i)},expression:"editadoProduct.pricebusiness"}}),t._v(" "),e("v-text-field",{attrs:{label:"Contenido",type:"number",rules:t.numberRules},model:{value:t.editadoProduct.content,callback:function(i){t.$set(t.editadoProduct,"content",i)},expression:"editadoProduct.content"}}),t._v(" "),e("v-text-field",{attrs:{label:"Unidad",rules:t.unidadRules},model:{value:t.editadoProduct.unit,callback:function(i){t.$set(t.editadoProduct,"unit",i)},expression:"editadoProduct.unit"}}),t._v(" "),e("v-text-field",{attrs:{label:"Marca",rules:t.nameRules},model:{value:t.editadoProduct.brand,callback:function(i){t.$set(t.editadoProduct,"brand",i)},expression:"editadoProduct.brand"}}),t._v(" "),e("v-text-field",{attrs:{label:"Stock",type:"number",rules:t.numberRules},model:{value:t.editadoProduct.stock,callback:function(i){t.$set(t.editadoProduct,"stock",i)},expression:"editadoProduct.stock"}}),t._v(" "),e("v-text-field",{attrs:{label:"Cantidad Máxima",type:"number",rules:t.numberRules},model:{value:t.editadoProduct.max_quantity,callback:function(i){t.$set(t.editadoProduct,"max_quantity",i)},expression:"editadoProduct.max_quantity"}}),t._v(" "),e("span",[t._v("Habilitar / Deshabilitar")]),t._v(" "),e("v-switch",{model:{value:t.editadoProduct.is_active,callback:function(i){t.$set(t.editadoProduct,"is_active",i)},expression:"editadoProduct.is_active"}}),t._v(" "),e("v-card-text",[e("v-btn",{staticClass:"primary",attrs:{raised:""},on:{click:t.onPickFileProduct}},[t._v("Subir imagen")]),t._v(" "),e("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/jpeg",required:"",rules:t.rulesImage},on:{change:t.onFilePickedProduct}})],1),t._v(" "),e("v-layout",[e("img",{attrs:{src:t.editadoProduct.imageUrl,height:"150"}})])],1)],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"blue-grey"},on:{click:t.cancelarProductoOriginal}},[t._v("Cancelar\n                    ")]),t._v(" "),e("v-btn",{staticClass:"ma-2 white--text",attrs:{disabled:!t.valid,color:"teal accent-4"},on:{click:t.guardarProductoOriginal}},[t._v("Guardar\n                    ")])],1)],1)],1)],1),t._v(" "),e("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(t){t.on}}]),model:{value:t.dialogMision,callback:function(i){t.dialogMision=i},expression:"dialogMision"}},[t._v(" "),e("v-card",[e("v-card-title",{staticClass:"cyan white--text"},[e("span",{staticClass:"headline"},[t._v(t._s(t.formTitleMision))])]),t._v(" "),e("v-card-text",[e("v-container",[e("v-text-field",{attrs:{label:"Nombre"},model:{value:t.editadoMision.name,callback:function(i){t.$set(t.editadoMision,"name",i)},expression:"editadoMision.name"}}),t._v(" "),e("v-text-field",{attrs:{label:"Descripción"},model:{value:t.editadoMision.description,callback:function(i){t.$set(t.editadoMision,"description",i)},expression:"editadoMision.description"}}),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"12",lg:"6"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on;return[e("v-text-field",t._g({attrs:{label:"Fecha Inicio","prepend-icon":"event",readonly:""},model:{value:t.editadoMision.start_date,callback:function(i){t.$set(t.editadoMision,"start_date",i)},expression:"editadoMision.start_date"}},a))]}}]),model:{value:t.menu2,callback:function(i){t.menu2=i},expression:"menu2"}},[t._v(" "),e("v-date-picker",{on:{input:function(i){t.menu2=!1}},model:{value:t.editadoMision.start_date,callback:function(i){t.$set(t.editadoMision,"start_date",i)},expression:"editadoMision.start_date"}})],1)],1),t._v(" "),e("v-col",{attrs:{cols:"12",lg:"6"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on;return[e("v-text-field",t._g({attrs:{label:"Fecha Fin","prepend-icon":"event",readonly:""},model:{value:t.editadoMision.end_date,callback:function(i){t.$set(t.editadoMision,"end_date",i)},expression:"editadoMision.end_date"}},a))]}}]),model:{value:t.menu1,callback:function(i){t.menu1=i},expression:"menu1"}},[t._v(" "),e("v-date-picker",{on:{input:function(i){t.menu1=!1}},model:{value:t.editadoMision.end_date,callback:function(i){t.$set(t.editadoMision,"end_date",i)},expression:"editadoMision.end_date"}})],1)],1)],1),t._v(" "),e("v-card-text",[e("v-btn",{staticClass:"primary",attrs:{raised:""},on:{click:t.onPickFileMision}},[t._v("Subir imagen")]),t._v(" "),e("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/jpeg"},on:{change:t.onFilePickedMision}})],1),t._v(" "),e("v-layout",[e("img",{attrs:{src:t.editadoMision.imageUrl,height:"150"}})])],1)],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"blue-grey"},on:{click:t.cancelarMission}},[t._v("Cancelar")]),t._v(" "),e("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"teal accent-4"},on:{click:t.guardarMission}},[t._v("Guardar")])],1)],1)],1),t._v(" "),e("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialogProductsMissions,callback:function(i){t.dialogProductsMissions=i},expression:"dialogProductsMissions"}},[e("v-card",[e("v-toolbar",{attrs:{dark:"",color:"primary"}},[e("v-btn",{attrs:{icon:"",dark:""},on:{click:function(i){t.dialogProductsMissions=!1}}},[e("v-icon",[t._v("mdi-close")])],1),t._v(" "),e("v-spacer"),t._v(" "),e("v-toolbar-items",[e("v-btn",{attrs:{dark:"",text:""},on:{click:function(i){t.dialogProductsMissions=!1}}},[t._v("Cerrar")])],1)],1),t._v(" "),e("v-list",{attrs:{"three-line":"",subheader:""}},[e("v-list-item",[e("v-list-item-content",[e("v-data-table",{staticClass:"elevation-3",attrs:{headers:t.headersMissions,items:t.missionsProducts,search:t.searchMission,"sort-by":"id"},scopedSlots:t._u([{key:"top",fn:function(){return[e("v-col",{attrs:{cols:"12",sm:"12"}},[e("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.searchMission,callback:function(i){t.searchMission=i},expression:"searchMission"}})],1)]},proxy:!0},{key:"item.image",fn:function(t){var i=t.item;return[e("div",{staticClass:"p-2"},[e("v-img",{attrs:{src:i.image,alt:i.name,"aspect-ratio":"1",height:"60"}})],1)]}},{key:"item.action",fn:function(i){var a=i.item;return[a.missions.length>0?e("v-switch",{attrs:{value:"","input-value":"true"},on:{change:function(i){return t.toggleMission(a)}}}):e("v-switch",{on:{change:function(i){return t.toggleMission(a)}},model:{value:a.action,callback:function(i){t.$set(a,"action",i)},expression:"item.action"}})]}}])})],1)],1)],1)],1)],1),t._v(" "),e("v-row",[e("v-tabs",{attrs:{"background-color":"deep-purple accent-4",centered:"",dark:"","icons-and-text":""},model:{value:t.tab,callback:function(i){t.tab=i},expression:"tab"}},[e("v-tabs-slider"),t._v(" "),e("v-tab",{attrs:{href:"#tab-1"}},[t._v("\n                Categorías\n                "),e("v-icon",[t._v("mdi-format-list-text")])],1),t._v(" "),e("v-tab",{attrs:{href:"#tab-2"}},[t._v("\n                Misiones\n                "),e("v-icon",[t._v("mdi-sale")])],1)],1),t._v(" "),e("v-tabs-items",{model:{value:t.tab,callback:function(i){t.tab=i},expression:"tab"}},[e("v-tab-item",{key:1,attrs:{value:"tab-1"}},[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-btn",{staticClass:"ma-2",attrs:{color:"success",dark:""},on:{click:function(i){t.dialog=!t.dialog}}},[t._v("\n                            Agregar Categoría\n                        ")]),t._v(" "),e("v-container",[e("v-data-table",{staticClass:"elevation-3",attrs:{headers:t.headers,items:t.categories,search:t.search,"sort-by":"id"},scopedSlots:t._u([{key:"item.action",fn:function(i){var a=i.item;return[e("v-btn",{staticClass:"mr-2",attrs:{fab:"",dark:"",small:"",color:"cyan"},on:{click:function(i){return t.editarCategoria(a)}}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-pencil")])],1),t._v(" "),e("v-btn",{staticClass:"mr-2",attrs:{fab:"",dark:"",small:"",color:"cyan"},on:{click:function(i){return t.getSubcategorias(a)}}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-file-document-box-search")])],1),t._v(" "),e("v-btn",{staticClass:"mr-2",attrs:{fab:"",dark:"",small:"",color:"error"},on:{click:function(i){return t.borrarCat(a)}}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-delete")])],1)]}}])})],1)],1),t._v(" "),e("v-col",{attrs:{cols:"6"}},[e("v-btn",{staticClass:"ma-2",attrs:{color:"success",dark:"",disabled:t.customCondition},on:{click:function(i){t.dialogAddSub=!t.dialogAddSub}}},[t._v("\n                            Agregar Subcategoría\n                        ")]),t._v(" "),e("v-card-text",[e("v-container",[e("v-data-table",{staticClass:"elevation-3",attrs:{headers:t.headersSub,items:t.subcategories,search:t.search,"sort-by":"id"},scopedSlots:t._u([{key:"item.action",fn:function(i){var a=i.item;return[e("v-btn",{staticClass:"mr-2",attrs:{fab:"",dark:"",small:"",color:"cyan"},on:{click:function(i){return t.editarSub(a)}}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-pencil")])],1),t._v(" "),e("v-btn",{staticClass:"mr-2",attrs:{fab:"",dark:"",small:"",color:"error"},on:{click:function(i){return t.borrarSub(a)}}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-delete")])],1),t._v(" "),e("v-btn",{staticClass:"mr-2",attrs:{fab:"",dark:"",small:"",color:"cyan"},on:{click:function(i){return t.abrirProducts(a)}}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-file-document-box-plus")])],1)]}}])})],1)],1)],1)],1)],1),t._v(" "),e("v-tab-item",{key:2,attrs:{value:"tab-2"}},[e("v-row",[e("v-btn",{staticClass:"ma-2",attrs:{color:"success",dark:""},on:{click:function(i){t.dialogMision=!t.dialogMision}}},[t._v("\n                        Agregar Misión\n                    ")]),t._v(" "),e("v-container",[e("v-data-table",{staticClass:"elevation-3",attrs:{headers:t.headersMissions,items:t.missions,search:t.search,"sort-by":"id"},scopedSlots:t._u([{key:"item.image",fn:function(t){var i=t.item;return[e("div",{staticClass:"p-2"},[e("v-img",{attrs:{src:i.image,alt:i.name,"aspect-ratio":"1"}})],1)]}},{key:"item.action",fn:function(i){var a=i.item;return[e("v-btn",{staticClass:"mr-2",attrs:{fab:"",dark:"",small:"",color:"cyan"},on:{click:function(i){return t.editarMission(a)}}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-pencil")])],1),t._v(" "),e("v-btn",{staticClass:"mr-2",attrs:{fab:"",dark:"",small:"",color:"error"},on:{click:function(i){return t.borrarMission(a)}}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-delete")])],1),t._v(" "),e("v-btn",{staticClass:"mr-2",attrs:{fab:"",dark:"",small:"",color:"cyan"},on:{click:function(i){return t.abrirProductsMissions(a)}}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-file-document-box-search")])],1)]}}])})],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);i.default=l.exports}}]);