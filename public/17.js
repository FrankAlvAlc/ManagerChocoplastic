(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{238:function(t,e,a){"use strict";a.r(e);var i={data:function(){return{dialogForm:!1,statuses:[{name:"Cliente",id:1},{name:"Repartidor",id:2}],status:"",headers:[{text:"ID",value:"id",width:"10%"},{text:"Nombre",value:"name"},{text:"Correo Electrónico",value:"email"},{text:"Teléfono",value:"phone_number"},{text:"Tipo Usuario",value:"user_type"},{text:"",value:"action"}],usuarios:[],editado:{email:"",id:"",name:"",phone_number:"",user_type:"",user_type_id:0},defaultItem:{email:"",id:"",name:"",phone_number:"",user_type:"",user_type_id:0}}},created:function(){this.getUser()},methods:{getUser:function(){var t=this;axios.get("/listUsers").then((function(e){t.usuarios=e.data.data})).catch((function(t){console.log(t)}))},editarTipo:function(t){console.log(t),this.editado=Object.assign({},t),this.status=this.editado.user_type_id,console.log(this.editado),this.dialogForm=!0},cancelar:function(){this.dialogForm=!1,this.editado=Object.assign({},this.defaultItem)},guardar:function(){var t=this;this.editado.user_type_id=this.status,axios.put("/user/updateStatus",this.editado).then((function(e){var a=t.statuses.find((function(e){return e.id===t.status}));t.usuarios.find((function(e){return e.id===t.editado.id})).user_type=a.name,t.dialogForm=!1}))}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Registro":"Editar Registro"}}},s=a(3),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",[a("v-data-table",{staticClass:"elevation-3",attrs:{headers:t.headers,items:t.usuarios,"sort-by":"id"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-system-bar",{attrs:{color:"indigo darken-2",dark:""}}),t._v(" "),a("v-toolbar",{attrs:{flat:"",color:"indigo"}},[a("v-toolbar-title",{staticClass:"white--text"},[t._v("Usuarios")]),t._v(" "),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),a("v-spacer")],1)]},proxy:!0},{key:"item.action",fn:function(e){var i=e.item;return[a("v-btn",{staticClass:"mr-2",attrs:{fab:"",dark:"",small:"",color:"green"},on:{click:function(e){return t.editarTipo(i)}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-account-arrow-right")])],1)]}}])})],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"1024px"},scopedSlots:t._u([{key:"activator",fn:function(t){t.on}}]),model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[t._v(" "),a("v-card",[a("v-card-title",{staticClass:"cyan white--text"},[a("span",{staticClass:"headline"},[t._v("Tipo de usuario")])]),t._v(" "),a("v-card-text",[a("v-container",[a("v-select",{attrs:{items:t.statuses,"item-text":"name","item-value":"id",filled:"",chips:"",label:"Tienda",placeholder:"Selecciona sucursal"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"blue-grey"},on:{click:t.cancelar}},[t._v("\n                    Cancelar\n                ")]),t._v(" "),a("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"teal accent-4"},on:{click:t.guardar}},[t._v("\n                    Guardar\n                ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=o.exports}}]);